schemaVersion: 2.2.0
metadata:
  name: camelk-ws
components:
  - name: tools
    container:
      image: quay.io/devfile/universal-developer-image:ubi8-latest
      #image: registry.redhat.io/devspaces/udi-rhel8@sha256:b0dfd9e15d878785bea5cb33a82a014abbd08c839917e72a8cd629c84bf47f1e
      memoryRequest: 2Gi
      memoryLimit: 6Gi
      cpuLimit: 2000m
      cpuRequest: 1000m
events:
  postStart:
    - set-camel-cli
commands:
  - id: set-camel-cli
    exec:
      # commandLine: source ~/.bashrc && jbang app install camel@apache/camel
      commandLine: 'source ~/.bashrc && jbang trust add https://github.com/apache/camel/ && jbang app install camel@apache/camel'
      component: tools